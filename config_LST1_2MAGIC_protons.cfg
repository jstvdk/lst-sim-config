*
* [CORSIKA inputs file created 2020-09-02 11:57:57 UTC for CORSIKA version 77100]
*
RUNNR   @run@                  
USER georgios.voutsinas
SEED   @seed1@   401   0              // Seed for 1st random number sequence, to be re-generated
SEED   @seed2@   859   0              // Seed for 2nd random number sequence, to be re-generated
SEED   @seed3@   390   0              // Seed for 3rd random number sequence, to be re-generated
SEED   @seed4@   323   0              // Seed for 4th random number sequence, to be re-generated
* CORSIKA inputs file template for ?Prod-name CTA North (La Palma) all sky simulations.
* The array layout is LST1 + MAGIC1 + MAGIC2.
* Includes alternatives for different primaries (selected by pre-processor),
* for PRMPAR, ERANGE, VIEWCONE, CSCAT parameters.
* Includes site definitions for La Palma only, with telescope positions along slope of mountain.
* Showers can come from North (default), South, East, or West.
* Number of showers to be simulated needs to be adapted to run duration for each primary type.
* SEEDs need to be re-generated for each simulation run separately!!!
*
* =============== Corsika INPUTS =======================
*
* [ Job parameters ]
*
EVTNR   1                               // Number of first shower event (usually 1)
*
* [ Primary particle options ]
*
PRMPAR  14             // Particle type of prim. particle (1: gamma; 3: elec, 14: proton, 402: helium)
*
THETAP  @theta@ @theta@      // Range of zenith angles (degree)
IACT setenv ZA  @theta@
PHIP @phip@ @phip@   // CORSIKA azimuth angles (degree) for primaries coming from South.
IACT setenv AZM @az@ 
VIEWCONE 0. @viewcone@ // Custom viewcone setting
NSHOW    @NShower@          // Requires NSHOW environment variable.
ERANGE   @Emin@ @Emax@ // Requires EMIN and EMAX in units of GeV.
ESLOPE -2.0             // Slope of primary energy spectrum (-2.0 is equal CPU time per decade)
*
* [ Site specific options ]
*
* The geographical coordinates of the La Palma site candidate are:
* 28.762166097 deg North, 17.892030200 deg West, altitude: 2158 to 2242 m altitude m a.s.l. 
* at the foundation level (center at 2180 m, observation level at 2158 m).
*
* ALTITUDE 2199
*
OBSLEV 2199.E2      // Observation level (in cm) for lowest telescope
* Atmospheric profile?
* Atmospheric profile for CTA North based on ECMWF weather models (original profiles by P. Munar).
* An atmospheric density profile matching winter conditions.
* Fixed for self-consistency of density and thickness as well as density/pressure in extrapolation.
IACT ATMOFILE atmprof_ecmwf_north_winter_fixed.dat
ATMOSPHERE 99 Y     // Use a custom profile by filename (this must come _AFTER_ IACT ATMOFILE ...!)
*
* Magnetic field used at previous production
* ./geomag70 IGRF12.COF 2020.00 D K2.180 28.7621661 -17.8920302
* 
MAGNET  30.678  23.415   // La Palma, 01/12/2021
ARRANG -4.84             // La Palma, 01/12/2021
* 
*  Geomag v7.0 - Dec 01, 2021 
* 
*   Model: WMM-2020 
*   Latitude: 28.76 deg
*   Longitude: -17.89 deg
*   Altitude: 10.0 km
*   Date of Interest:  2021
* 
*  ----------------------------------------------------------------------------------------------------------------------------
* Date 	       Declination          Inclination           Horizontal          North Comp.      East Comp.          Vertical Comp.   Total Field
*             ( + E  | - W )         ( + D  | - U )         Intensity         (+ N  | - S)     (+ E  | - W)         (+ D  | - U) 
*  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
* 2021-12-01 	  -4.8394째 	       37.3521째 	          30,678.2 nT        30,568.8 nT       -2,588.1 nT        23,414.7 nT 	         38,592.7 nT
* Change/year 	 0.1679째/yr 	     -0.0782째/yr 	    37.8 nT/yr 	          45.2 nT/yr       86.4 nT/yr    	 -37.5 nT/yr 	        7.3 nT/yr
*  ------------------------------------------------------------------------------------------------------------------------------
*
* 
* [ Core range ]
*
CSCAT    @NSCAT@ @CSCAT@ 0. // Requires NSCAT (10/20) and CSCAT (in units of cm).
*
*
*
TELESCOPE              -6.336E2    60.405E2   2.00E2        12.50E2   # L-01     (ID=1)
TELESCOPE              41.054E2   -79.275E2   0.25E2        10.00E2   # MAGIC-01 (ID=2)
TELESCOPE             -29.456E2   -31.295E2   1.42E2        10.00E2   # MAGIC-02 (ID=3)
*
* REFERENCE_POSITION 0 0 1.36E2
*
* [Interaction flags]
*
FIXHEI  0.  0          // First interaction height & target (0. 0 for random)
FIXCHI  0.             // Starting altitude (g/cm**2). 0. is at boundary to space.
* TSTART  T              // Needed for emission and scattering of primary
ECUTS   0.3  0.1  0.020  0.020         // Energy cuts for particles
MUADDI  F                              // Additional info for muons not needed
MUMULT  T                              // Muon multiple scattering angle
LONGI   T  20.  F  F                   // Longit.distr. & step size & fit
MAXPRT  0                              // Max. number of printed events
ECTMAP  1.E6                           // Cut on gamma factor for printout
* STEPFC parameter not supported with Cherenkov light in CORSIKA version 77100:
*
* [ Cherenkov emission parameters ]
*
CERSIZ  5.         // Not above 10 for super/ultra-bialkali QE; 7 is fairly OK; 5 should be safe.
* Fixing 'CERFIL F' for CORSIKA version 77100:
CERFIL 0
CWAVLG  270.  750.                     // Cherenkov wavelength band
*
* [ Debugging and output options ]
*
DEBUG   F  6  F  1000000               // Debug flag and logical unit for output
DATBAS yes                             // Write a file with parameters used
* Fixing 'DIRECT /dev/null' for CORSIKA version 77100:
DIRECT ./
PAROUT F F
TELFIL  @output_filename@.corsika.gz  // Telescope photon bunch output (eventio format)
IACT PRINT_EVENTS 100 100 1
*
* [ IACT tuning parameters ]
*
IACT SPLIT_AUTO 8M                     // Split data with more than 8 million bunches
IACT IO_BUFFER @IO_BUFFER@                  // At 32 bytes per bunch this could be up to 500 MB
IACT MAX_BUNCHES @MAX_BUNCHES@               // Let photon bunch thinning set in earlier.
*
* [ This is the end, my friend ]
*
EXIT                                   // terminates input
* ========================================================
